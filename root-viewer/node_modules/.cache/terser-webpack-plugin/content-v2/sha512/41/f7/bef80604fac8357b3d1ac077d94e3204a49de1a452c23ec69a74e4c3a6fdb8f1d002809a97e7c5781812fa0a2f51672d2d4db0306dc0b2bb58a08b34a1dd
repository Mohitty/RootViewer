{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{137:function(t,e,o){\"use strict\";o.r(e);o(68),o(70);var i=o(139),r=o.n(i),n=o(140),a={computed:r()({},Object(n.b)([\"activeFile\"]),Object(n.b)(\"RootViewer\",[\"isTouched\",\"isLoading\"])),methods:r()({},Object(n.a)(\"RootViewer\",[\"saveFile\"]),{saveContent:function(){this.saveFile()},closeApp:function(){this.$router.push({path:\"/files\"})}})},s=o(141),c={name:\"RootViewer\",data:function(){return{iframeLocation:\"\"}},mounted:function(){this.getAppProvider(),this.getIframe()},components:{RootViewerAppBar:Object(s.a)(a,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o(\"div\",{staticClass:\"oc-app-bar\",attrs:{id:\"root-viewer-app-bar\"}},[o(\"oc-grid\",{attrs:{flex:\"\",gutter:\"small\"}},[o(\"div\",{staticClass:\"uk-width-auto\"},[o(\"oc-button\",{attrs:{icon:\"save\",disabled:!t.isTouched},on:{click:t.saveContent}}),t._v(\" \"),t.isLoading?o(\"oc-spinner\"):t._e()],1),t._v(\" \"),o(\"div\",{staticClass:\"uk-width-expand uk-text-center\"},[o(\"span\",[t._v(t._s(t.activeFile.path.substr(1)))])]),t._v(\" \"),o(\"div\",{staticClass:\"uk-width-auto uk-text-right\"},[o(\"oc-button\",{attrs:{icon:\"close\"},on:{click:t.closeApp}})],1)])],1)},[],!1,null,null,null).exports},computed:r()({},Object(n.b)([\"getToken\",\"activeFile\"]),Object(n.b)(\"RootViewer\",[\"loading\",\"lastError\"]),{iframeElement:function(){return this.iframeLocation}}),methods:r()({},Object(n.a)(\"RootViewer\",[\"isLoading\",\"clearLastError\",\"newError\"]),{getAppProvider:function(){var t=this;this.isLoading(!0);var e=new Headers;e.append(\"Authorization\",\"Bearer \"+this.getToken),fetch(\"http://localhost:9998/preferences/application/x-root\",{mode:\"cors\",method:\"GET\",headers:e}).then(function(e){if(200===e.status)return e.text().then(function(e){console.log(e),\"\"===e?t.newError(\"No app provider available\"):t.isLoading(!1)});throw console.log(e),t.newError(\"No app provider available\"),new Error(\"get value did not worked\")}).catch(function(t){console.error(t)})},getIframe:function(){var t=this,e=\"http://localhost:9998/iframe/open/\"+this.activeFile.path.substr(1)+\"?access_token=\"+this.getToken;fetch(e,{mode:\"cors\",method:\"GET\"}).then(function(e){if(200===e.status)return e.text().then(function(e){console.log(e),t.iframeLocation=e});throw console.log(e),new Error(\"get value did not worked\")}).catch(function(t){console.error(t)})}})},l=(o(143),Object(s.a)(c,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o(\"div\",{attrs:{id:\"root-viewer\"}},[o(\"root-viewer-app-bar\"),t._v(\" \"),o(\"oc-notifications\",[t.lastError?o(\"oc-notification-message\",{attrs:{message:t.lastError,status:\"danger\"},on:{close:t.clearLastError}}):t._e()],1),t._v(\" \"),t.loading?t._e():o(\"div\",{staticClass:\"viewer\"},[o(\"div\",{staticClass:\"iframe-container\"},[o(\"iframe\",{staticClass:\"viewer-iframe\",attrs:{src:t.iframeElement,scrolling:\"yes\"}})])])],1)},[],!1,null,null,null));e.default=l.exports},138:function(t,e,o){var i=o(144);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]),i.locals&&(t.exports=i.locals);(0,o(146).default)(\"b39c9c6e\",i,!0,{})},143:function(t,e,o){\"use strict\";var i=o(138);o.n(i).a},144:function(t,e,o){(t.exports=o(145)(!1)).push([t.i,\"\\n.viewer-iframe {\\n  display: block;\\n  width: 100vw;\\n  height: 100vh;\\n  max-width: 100%;\\n  margin: 0;\\n  padding: 0;\\n  padding-bottom: 75px;\\n  border: 0 none;\\n  box-sizing: border-box;\\n}\\n\",\"\"])}}]);","extractedComments":[]}